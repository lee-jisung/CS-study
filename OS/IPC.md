# IPC (Inter Process Communication)

## IPC?
 
 - 프로세스는 독립적으로 실행되며 프로세스간의 통신을 가능하게 해주는 것 = IPC

 - 프로세스는 커널이 제공하는 IPC 설비를 이용하여 프로세스 간 통신을 함

 - **커널**: OS의 핵심이 되는 프로그램의 하나로, 시스템의 모든 것을 통제. OS의 다른 부분 및 응용 프로그램 수행에 필요한 여러 서비스를 제공.
 
## IPC 종류

### 1. 익명 PIPE 

 - 통신할 프로세스를 명확히 아는 경우 사용 (ex, 부모 - 자식 프로세스 간 통신)
 
 - 파이프는 두 개의 프로세스를 연결하는데, 하나의 프로세스는 쓰기, 다른 하나는 읽기 작업만 가능
 
 - 한쪽 방향으로만 통신이 가능하며 '반 이중 통신'이라고 부른다.
 
 - 양쪽 모두 송/수신을 하고 싶다면 2개의 파이프를 만들어야 함
 
 - 장점: 매우 간단하게 사용 할 수 있음. 단순한 데이터 흐름을 가질 때 사용하는 것이 효율적.
 
 - 단점: 전 이중 통신을 위해서 2개의 파이프를 만들어야 할 때 구현이 복잡함
 
### 2. Named PIPE (FIFO)

 - 통신할 프로세스를 명확히 모르는 상태의 프로세스들 사이의 통신에 사용함.
 
 - 익명 파이프의 확장된 형태로 부모 프로세스와 무관한 다른 프로세스도 통신이 가능한 것. (통신을 위해 이름이 있는 파일을 사용)
 
 - Named PIPE 역시 읽기 & 쓰기가 동시에 불가능함.
 
 - 전 이중 통신을 위해 익명 파이프처럼 2개를 구현해야 함
 
### 3. Message Queue

 - 입출력 방식은 Named PIPE와 동일
 
 - 파이프처럼 데이터 흐름이 아닌 메모리 공간이며 사용할 데이터에 번호를 붙여 여러 프로세스가 동시에 데이터를 쉽게 다룰 수 있음.
 
### 4. 공유 메모리

 - 파이프, 메시지 큐가 통신을 이용한 설비라면 공유 메모리는 데이터 자체를 공유하도록 지원하는 설비.
 
 - 프로세스의 메모리 영역은 독립적임. 따라서 다른 프로세스가 접근하지 못하도록 보호해야 함
 
 - But, 다른 프로세스가 데이터를 사용해야 할 상황이 필요 ⇒ 스레드처럼 메모리를 공유해주는 방법을 사용. 즉, 프로세스 간 메모리 영역을 공유하여
 사용할 수 있도록 허용한 것
 
 - 프로세스가 공유 메모리 할당을 커널에 요청 ⇒ 커널은 해당 프로세스에 메모리 공간을 할당하며 이후 모든 프로세스는 해당 메모리 공간에 접근 가능 
 ⇒ 중재자 없이 곧바로 메모리에 접근 가능하며 IPC 중 가장 빠르게 작동함.
 
### 5. 메모리 맵

 - 공유 메모리처럼 메모리 공유
 
 - 열린 파일을 메모리에 매핑시켜 공유하는 방법 (공유 매개체 = 파일 + 메모리)
 
 - 주로 파일로 대용량 데이터를 공유해야 할 때 사용
 
### 6. 소켓

 - 네트워크 소켓 통신을 통해 데이터를 공유
 
 - 클라이언트와 서버가 소켓을 통해 통신하는 구조. 원격에서 프로세스 간 데이터를 공유할 때 사용
 
 - 서버 (bind, listen, accept) / 클라이언트 (connect)
 
 - - - 
위와 같은 IPC 통신에서 프로세스 간 데이터를 동기화 하고 보호하기 위해 세마포어와 뮤텍스를 사용 
⇒ 공유된 자원에 한 번에 하나의 프로세스만 접근할 수 있음

