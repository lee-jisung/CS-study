## 메모리 정리

 메인 메모리는 주소가 할당된 일련의 바이트로 구성
 
 CPU는 Register가 지시하는 대로 메모리에 접근하여 다음 수행할 명령어를 가져온다.
 
 명령어 수행 시 메모리에 필요한 데이터가 없으면 해당 데이터를 우선 가져오는데 이 역할을 하는 것이 **MMU**이다.
 
 **MMU (메모리 관리 장치)**는 논리 주소를 물리 주소로 변환해준다. 또한, 메모리 보호나 캐시 관리 등 CPU가 메모리에 접근하는 것을
 총 관리하는 하드웨어이다.
 

### MMU의 메모리 보호

 프로세스는 독립적인 메모리 공간을 가져야 하며 자신의 공간만 접근해야 한다. 따라서 한 프로세스에게 합법적인 주소 영역을 설정하고,
 잘못된 접근이 오면 **Trap**을 발생시켜 보호한다.
 
 **Base와 Limit Register**를 활용한 메모리 보호 기법
 
  - Base register: 메모리 상 프로세스 시작 주소를 물리 주소로 저장
  
  - Limit register: 프로세스의 사이즈 저장
  
  - 합법적은 메모리 접근 영역: 'Base <= P < Base + Limit'이며 이 영역을 벗어난 접근은 제한한다.
  
  - 안정성을 위해 Base와 Limit register는 커널 모드에서만 수정하도록 설계한다.
  
### 메모리 과할당 

 실제 메모리 사이즈 보다 더 큰 사이즈의 메모리를 프로세스에 할당한 상황
 
 페이지 기법과 같은 메모리 관리 기법은 사용자 모르게 메모리를 할당한다 (가상 메모리를 이용)
 
 과할당 상황에서 사용자를 속인 것을 들킨만한 상황
 
  - 프로세스 실행 중 page fault 발생
  
  - Page fault를 발생시킨 page 위치를 disk에서 찾는다. 메모리 빈 프레임에 페이지를 올려야 하지만 가능한 프레임이 없다 (과할당으로 인해)

이러한 과할당을 해결하기 위해 빈 프레임을 확보할 수 있어야 한다.

 - 1. 메모리에 올라와 있는 하나의 프로세스를 종료시켜 빈 프레임을 얻는다.
 
 - 2. 프로세스 하나를 Swap-out하고 이 공간을 빈 프레임으로 활용한다.
 
1번은 사용자에게 들킬 위험이 있어 하면 안되고, 2번과 같은 해결책을 통해 페이지 교체가 이루어져야 한다.
